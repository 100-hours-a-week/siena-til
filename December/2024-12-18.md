## 📅 날짜: 2024-12-18


### 💬 학습 목표
- 학습 목표 1 : 딥다이브 QA
- 학습 목표 2 : 파이썬 딕셔너리 공부


### 📒 오늘 공부한 내용
#### | ec2로 커뮤니티 배포하고 QA받기

1. EC2 인스턴스 만들기 <br/>

2. pm2 설치 <br/>
pm2는 node.js 애플리케이션을 실행하고 관리하는 프로세스 매니저이다. <br/>

```
curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -
sudo apt-get install -y nodejs
sudo apt-get update
sudo apt-get install -y git
sudo npm install -g pm2
```

3. 깃 클론 <br/>
백엔드, 프론트엔드 레포지토리를 각각 클론해온다. <br/>

4. `npm install`, `node server.js` <br/>
각각의 서버에 필요한 의존성을 설치해주고 실행해보며 필요한 패키지, 환경변수 파일 등을 생성해준다. <br/>

5. pm2 시작하기 <br/>

```
pm2 start index.js --name front
pm2 start server.js --name back
```

6. `인스턴스IP:프론트포트` 로 접속 <br/>

7. 백엔드 서버로 요청 보낼 때 `인스턴스IP:백엔드포트` 사용 <br/>

- 이 과정에서 `localhost:3001`로 쓰인 서버 주소를 바꾸기 위해 `BASE_IP`로 전역변수 지정해서 코드 리팩토링해줌 <br/>
- `BASE_IP`를 선언했으나 `controller`코드에서 이를 찾지 못하고 `undefined`가 뜨는 오류 <br/>
=> `config.js` 파일로 분리하고 `import`를 통해 가져오도록 함 <br/>
- 이미지 업로드 코드도 마찬가지로 `localhost:3001` >> `BASE_IP` 해주고 `chmod 755 uploads`로 디렉토리에 권한을 부여하여 파일 소유자가 읽기,쓰기, 실행이 가능하도록함 그룹과 다른 사용자들은 읽기와 실행만 가능 <br/>

### 🧑‍🧒‍🧒 팀 멘토링 (with Leo)
#### | 일상 공유와 짧은 개발 토크

- '자기 통제' 하기 <br/>
- 방학 때 루틴 잃지 않기! <br/>

❓ 커뮤니티 이미지 업로드 시 (게시글 및 프로필) 이미지 비율을 유지하도록 하는 것과 지정해놓은 비율에 꽉차게 이미지 비율을 변경하는 것 중에 더 옳은? 방법은? <br/>
❗️ 정답은 없지만! 가장 좋은 건 적장한 크기로 크롭할 수 있도록 하는 것이 가장 좋다. <br/>
그 외에 사용자에게 가로 형태 이미지를 업로드하도록 유도할 수 있다. <br/>

❓ 현재는 게시글을 삭제해도 이미지는 저장된 채로 남아있다.. 이걸 게시글과 함께 삭제처리하도록 구현하는 게 옳은가? <br/>
❗️ 보통 게시글 삭제가 일어나는 일이 엄청 빈번하지 않기 때문에 바로바로 삭제하기보다 주기를 정해놓고 일괄 처리를 고민해보라. <br/>

=> 이미지크롭, 이미지 삭제처리 모두 DB연결 및 배포까지 할 수 있는 정도되고 과제 승인나면 추가할 예정.. <br/>

💡 **어떠한 문제점이 생겼을 때 코드를 생각하지 말고 문제해결의 측면으로 접근하기** <br/>
문제의 본질을 파악하는 것이 중요하다. 엘리베이터 예시처럼! <br/>

### 🔥 도전 과제 달성 확인, 내일의 도전과제 설정
- (지난) 도전 과제 1: 딥다이브 말그대로 딥다이브하기 !! ✅

```
딥다이브가 QA 였어서 약간 애매하지만.. 쉬는시간인 줄도 모르고 서버 여느라 고생했으니.. 딥다이브는 맞는듯...
```

- (내일) 도전 과제 1: 팀원들 QA 이슈 올리기

<br/>

### 💭 오늘의 회고 (총 공부시간 9:11:55)
- 성공적인 점: 새벽까지 끌어서 겨우 QA용 서버 열었다.. <br/>
- 개선해야할 점: EC2 기피증 고치기 ^^... <br/>

```
어제는 코테풀다가 나의 부족함을 느꼈고 오늘은 커뮤니티 배포(QA용)하면서 부족함을 느꼈다..
매일 매일 내가 부족한 사람이라는 걸 마주하는 게 솔직히 슬프다ㅠㅠ
배울 점 많은 사람들 사이에서 도움을 많이 받고 있다.. 감사합니다..
```

<br/>

### 📁 참고 자료 및 링크
- 리로이의 ec2 강의(🥹)