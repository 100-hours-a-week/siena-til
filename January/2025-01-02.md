## 📅 날짜: 2025-01-02


### 💬 학습 목표
- 학습 목표 1 : *방학과제(1) - DB 복습

    - 세부 학습 목표 1 : 서버가 데이터베이스에 자료를 저장하고 가져오는 과정 이해하기
    - 세부 학습 목표 2 : 데이터베이스에서의 스키마, 테이블의 개념 이해하기
    - 세부 학습 목표 3 : CRUD의 개념을 알고 쿼리 작성해보기
    - 세부 학습 목표 4 : SELECT 쿼리의 논리적 실행 순서 알기
    - 세부 학습 목표 5 : JOIN 이해하기

*방학과제(1) : 1~9주차 부족했던 기본 개념들 공부, 문장으로 정리하여 기록하기

### 📒 오늘 공부한 내용
#### | DB

- 세부 학습 목표 1 : 서버가 데이터베이스에 자료를 저장하고 가져오는 과정 이해하기 ✅

    1. 유저: Datagrip 같은 도구에서 쿼리를 작성
    2.  Datagrip은 작성된 쿼리를 mariaDB Daemon에게 전달함
    3. mariaDB Daemon은 쿼리를 분석하고Query Plan을 생성하여 InnoDB에게  전달함
    4. InnoDB는  Scheme에서 정의된 데이터 구조를 참고하여 쿼리 요청에 따라 데이터를 검색
    5. InnoDB는 데이터를 mariaDB Daemon으로 반환
    6. mariaDB Daemon은 데이터를 Daragrip으로 전달
    7. Datagrip이 유저에게 데이터를 표시함

- 세부 학습 목표 4 : SELECT 쿼리의 논리적 실행 순서 알기 ✅

    1. FROM: 데이터 소스 지정
    2. JOIN: 테이블 결합
    3. WHERE: 조건 필터링
    4. GROUP BY: 그룹화
    5. HAVING: 그룹화된 결과 필터링
    6. SELECT: 출력할 컬럼 선택
    7. DISTINCT: 중복 제거
    8. ORDER BY: 정렬
    9. LIMIT: 반환할 레코드 수 제한

- 세부 학습 목표 5 : JOIN 이해하기 ✅

A

| ID | ENAME |
| --- | --- |
| 1 | AAA |
| 2 | BBB |
| 3 | CCC |

B

| ID | KNAME |
| --- | --- |
| 1 | 가 |
| 2 | 나 |
| 4 | 라 |
| 5 | 마 |

**1. INNER JOIN**

**교집합**. 공통적인 부분만 SELECT됨

```sql
SELECT A.ID, A.ENAME, A.KNAME
FROM A INNER JOIN B
ON A.ID = B.ID;
```

| ID | ENAME | KNAME |
| --- | --- | --- |
| 1 | AAA | 가 |
| 2 | BBB | 나 |

**2. LEFT JOIN**

조인 기준 왼쪽에 있는 거 다 SELECT 됨 <br/>
**(공통 부분 + 왼쪽 전부)**

```sql
SELECT A.ID, A.ENAME, A,KNAME
FROM A LEFT OUTER JOIN B
ON A.ID = B.ID;
```

| ID | ENAME | KNAME |
| --- | --- | --- |
| 1 | AAA | 가 |
| 2 | BBB | 나 |
| 3 | CCC | NULL |

만약 교집합 부분을 제외하고 싶으면 `WHERE B.ID IS NULL`

**3. RIGHT JOIN**

조인 기준 오른쪽에 있는 거 다 SELECT 됨 <br/>
**(공통 부분 + 오른쪽 전부)**

```sql
SELECT A.ID, A.ENAME, A.KNAME
FROM A RIGHT OUTER JOIN B
ON A.ID = B.ID;
```

| ID | ENAME | KNAME |
| --- | --- | --- |
| 1 | AAA | 가 |
| 2 | BBB | 나 |
| 4 | NULL | 라 |
| 5 | NULL | 마 |

만약 교집합 부분을 제외하고 싶으면 `WHERE A.ID IS NULL`

**4. OUTER JOIN**

A 테이블이 가지고 있는 거 + B 테이블이 가지고 있는 거 둘 다 SELECT <br/>
**합집합**

```sql
SELECT A.ID, A.ENAME, A.KNAME
FROM A FULL OUTER JOIN B
ON A.ID = B.ID
```

| ID | ENAME | KNAME |
| --- | --- | --- |
| 1 | AAA | 가 |
| 2 | BBB | 나 |
| 3 | CCC | NULL |
| 4 | NULL | 라 |
| 5 | NULL | 마 |

(합집합 - 교집합) 하고 싶으면 `WHERE A.ID IS NULL OR B.ID IS NULL`

### | DB 개념  총 정리

| 단어 | 뜻 | 비고 |
| --- | --- | --- |
| Daemon | 멀티태스킹 운영체제에서 사용자가 직접적으로 제어하지 않고 백그라운드를 돌며 여러 작업을 하는 프로그램 | 데몬 프로그램은 보통 이름 마지막에 d를 달고 있다. |
| 백그라운드 프로세스 | 사용자의 간섭없이 뒷편에서 실행중인 컴퓨터 프로세스 | 로그처리, 시스템 모니터링, 스케줄링 같은 일반적인 작업이 있다. |
| 스키마 |  데이터 베이스의 구조를 정의하는 개념 | 데이터베이스에서 스키마의 종류는 개념적, 논리적, 물리적 스키마가 있다 |
| 개념적 스키마 | 데이터베이스에 저장되는 주요 개념과 이들간의 관계를 정의 | 시스템을 이해하고 다양한 이해관계자 간의 의사소통을 원활하하며 데이터 베이스의 구조를 문서화하는 데 중요하다. |
| 논리적 스키마 | 테이블, 열, 데이터 유형, 제약조건등을 정의하는 ERD | 데이터 무결성, 일관성, 독립성을 위해 중요하며 논리적 스키마부터 키를 고려해야한다. |
| 물리적 스키마 | 논리적 스키마를 실제 데이터베이스 관리 시스템에서 구현한 것으로 데이터가 실제로 저장되는 방법, 인덱스, 파티셔닝 등을 포함 | 실제 쿼리를 작성하여 등록하는 과정이며 성능 최적화, 구현 세부사항 정의, 자원관리를 위해 중요하다. |
| 테이블 | 데이터베이스에서 데이터를 구조적으로 저장하는 기본 단위 | 주요 구성요소: 행, 열, 기본 키, 외래 키 |
| 기본 키 | 각 행을 고유하게 식별하는 하나의 열 또는 여러 열의 조합 |  |
| 외래 키 | 다른 테이블의 기본 키를 참조하는 열로, 테이블 간의 관계를 설정하는 데 사용 |  |
| 인덱스 | 데이터베이스에서 데이터 검색 속도를 향상시키기 위해 사용하는 데이터 구조 | 특정 열에 대해 인덱스를 생성함으로써 해당 열을 기준으로 행을 빠르게 찾을 수 있게 해줌 |
| 쿼리 | 데이터베이스에 특정 작업을 요청하기 위해 작성된 SQL문입니다.  | 데이터를 CRUD 하기위해 사용한다. |
| `CREATE` | 데이터베이스 혹은 테이블 생성 |  |
| `INSERT` | 특정 테이블에 데이터를 삽입 |  |
| `SELECT` | 데이터를 조회 |  |
| `UPDATE` | 데이터를 수정 |  |
| `DELETE` | 데이터를 삭제 |  |
| `JOIN` | 두 개 이상의 테이블을 결합하여 데이터를 조회하는 연산 |  |
| `INNER JOIN` | 두 테이블에서 조인 조건을 만족하는 레코드만 결과에 포함됩니다. | 교집합 |
| `LEFT JOIN` | 왼쪽에 있는 테이블의 모든 값을 반환하면서 두 테이블 간 일치하지 않는 값을  NULL값으로 반환 | 왼쪽 전부 + 교집합 |
| `RIGHT JOIN` | 오른쪽에 있는 테이블의 모든 값을 반환하면서 두 테이블 간 일치하지 않는 값을 NULL값으로 반환 | 오른쪽 전부 + 교집합 |
| `CROSS JOIN` | 두 테이블의 가능한 모든 조합을 반환 | 곱집합 |

### 🔥 도전 과제 달성 확인, 내일의 도전과제 설정
- (지난) 도전 과제 1: 지금까지 배운 내용 TIL에 정리 (방학과제) 🔺

- (내일) 도전 과제 1: 도커, 쿠버네티스 실습 복습

<br/>

### 💭 오늘의 회고
- 성공적인 점: DB 복습완료 <br/>
- 개선해야할 점: 쿼리문을 직접 써보는 연습을 더 해야겠다.. <br/>

<br/>

### 📁 참고 자료 및 링크
- [DB JOIN 정리 (INNER/LEFT/RIGHT/OUTER)](https://pearlluck.tistory.com/46)